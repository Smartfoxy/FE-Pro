<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>

    <style>
        .square {
            width: 70px;
            height: 70px;
            text-align: center;
            line-height:50px;
            border: 1px solid black;
            float: left;
            margin-right: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .plus,
        .minus {
            position: absolute;
            width: 15px;
            height: 15px;
            text-align: center;
            line-height: 15px;
            font-size: 1.5em;
            bottom: 10px;
            cursor: pointer;
        }
        .minus {
            border: 1px solid red;
            left: 10px;
            color: red;
        }
        .plus {
            border: 1px solid green;
            left: 45px;
            color: green;
        }
        table {
            border-collapse: collapse;
            
        }
        td {
            border: 1px solid black;
            padding: 5px;
        }
    
    </style>
</head>

<body>

    <div class="container">

        <div class="square">0
            <div class="plus">+</div>
            <div class="minus">-</div>
        </div>
        <div class="square">0
            <div class="plus">+</div>
            <div class="minus">-</div>
        </div>
        <div class="square">0
            <div class="plus">+</div>
            <div class="minus">-</div>
        </div>
        <div class="square">0
            <div class="plus">+</div>
            <div class="minus">-</div>
        </div>
        <div class="square">0
            <div class="plus">+</div>
            <div class="minus">-</div>
        </div>

    </div>

   

    <script>
        "use strict"

        let $pluses = document.querySelectorAll('.plus');  
        let $minuses = document.querySelectorAll('.minus');  
       
        $pluses.forEach(function(el) {
          el.addEventListener('click', function(){
              this.previousSibling.data++;
          })
        });
        $minuses.forEach(function(el) {
          el.addEventListener('click', function(){
              this.parentElement.firstChild.data--;
          })
        });

        const url =  "https://ithillel.ua/?utm_source=%D0%9A%D0%B0%D1%80%D0%BB%20%D1%83%20%D0%9A%D0%BB%D0%B0%D1%80%D1%8B%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D1%8B&utm_medium=,%20%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D1%83%20%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%83%D0%BA%D1%80%D0%B0%D0%BB%D0%B0%20%D0%BA%D0%BB%D0%B0%D1%80%D0%BD%D0%B5%D1%82.&utm_campaign=%D0%9A%D0%BE%D1%80%D0%BE%D0%BB%D0%B5%D0%B2%D0%B0%20%D0%9A%D0%BB%D0%B0%D1%80%D0%B0%20%D0%BA%D0%B0%D0%B2%D0%B0%D0%BB%D0%B5%D1%80%D0%B0&utm_term=%D0%9A%D0%B0%D1%80%D0%BB%D0%B0%20%D1%81%D1%82%D1%80%D0%BE%D0%B3%D0%BE%20%D0%BA%D0%B0%D1%80%D0%B0%D0%BB%D0%B0&utm_content=%D0%B7%D0%B0%20%D0%BA%D1%80%D0%B0%D0%B6%D1%83%20%D0%BA%D0%BE%D1%80%D0%B0%D0%BB%D0%BB%D0%BE%D0%B2"
        
        const obj = makeObjFromQuery(url);
        console.log(obj);

        const $container = document.querySelector('.container'); 
        $container.append(printData(obj));
        /*$container.innerHTML = printData(obj);*/
        


        function makeObjFromQuery(url) {
            const queryDecoded = decodeURIComponent(url.slice(url.indexOf('?')+1));
            let obj = {};
            queryDecoded.split('&').map(function(el) {
                return el.split('=');
            }).forEach(function(el){
                obj[el[0]] = el[1];
            });
            return obj;
        }

        function printData(obj) {
            let $table = document.createElement('table');
            let inner = '';
            for(let key in obj) {
                inner += `<tr><td>${key}</td><td>${obj[key]}</td></tr>`
                console.log(inner);
            }
            $table.innerHTML = inner;
            return $table;
        }

        


        
        












       /* squares.forEach(function(el) {
            el.addEventListener("click", changeColorOfSquare);
            el.addEventListener("click", function() {
                $container.append(this);
            })
        });*/

      /*  function createSquares(num) {
            let style = "width: 50px; height: 50px; text-align: center; line-height:50px; border: 1px solid black; float: left; margin-right: 20px;"
            let inner = '';
            for(let i = 1; i <= 5; i++) {
                inner += `<div class = "square" style = "${style}">0</div>`;
            }
            return inner;
        } */

        /*function changeColorOfSquare(event) {
            if(event.target.classList.contains('square-blue')){  /*правильно ли здесь указывать this? не до конца понимаю как оно срабатывает??очень похоже на случайность)))*/
            /*    this.classList.remove('square-blue');
                this.classList.add('square-green');
            } else if(this.classList.contains('square-green')){
                this.classList.remove('square-green');
                this.classList.add('square-yellow');
            }else if(this.classList.contains('square-yellow')){
                this.classList.remove('square-yellow');
                this.classList.add('square-blue');
            } else {
                this.classList.add('square-blue');
            }
        }*/



     /*   const $task_2 = document.querySelector('.box');

        toggleClass($task_2, 'border');
        console.log($task_2.className);

        toggleClass($task_2, 'border');
        console.log($task_2.className);
        

        function toggleClass(elem, cl){ 
            let classList = elem.className.split(' ');
            let index = classList.indexOf(cl);
            if(index >= 0){
                classList.splice(index, 1);
            }else {
                classList.push(cl);
            }
            elem.className = classList.join(' ');
        }*/

        

        
    </script>
</body>

</html>