<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lesson_23</title>
   

</head>

<body> 

    <script>
        "use strict"
        function Student(firstName, secondName, age, marks) {
            this.firstName = firstName;
            this.secondName = secondName;
            this.age = age;
            this.marks = marks;
            this.isPresent = new Array(25);
            this.count = 0;
        }


        Student.prototype = {

            constructor: Student,
            
            present : function() {
                if(this.count < this.isPresent.length) this.isPresent[this.count++] = true;
            },
            abent : function() {
                if(this.count < this.isPresent.length) this.isPresent[this.count++] = false;
            },

            getAverageMarks : function() {
                return this.marks.reduce((acc, current) => {
                    return acc + current;
                }) / this.marks.length;
            },

            getAge : function() {
                return this.age;
            },

            getSummary : function() {
                let lesson = 0;
                let visit = 0;
                this.isPresent.forEach(el => {
                    if(el!==null) {
                        lesson++;
                        visit += el;
                    }
                });
                
                let averageVisit = visit / lesson;
                let averageMark = this.getAverageMarks();
                if(averageVisit > 0.9 && averageMark > 90) {
                    return 'Ути какой молодчинка!';
                } else if (averageVisit > 0.9 || averageMark > 90) {
                    return 'Норм, но можно лучше';
                } else {
                    return 'Редиска!';
                }
            }
        }

        Student.prototype.constructor = Student;
                  

        let student1 = new Student('Vasya', 'Pupkin', 25, [90, 80, 7]);
        let student2 = new Student('Olya', 'Ivanova', 22, [90, 95, 97]);

        
        student1.present();
        student1.present();
        student1.present();
        student1.present();
        student1.abent();

        student2.present();
        student2.present();
        student2.present();
        
        console.log(student1.getSummary());
        console.log(student1.getAge());
        console.log(student2.getSummary());
        console.log(student2.getAge());



        


    </script>
</body>

</html>