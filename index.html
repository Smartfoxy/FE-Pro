<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>
</head>

<body>

    <div class="container"></div>

    <script>
        "use strict"
        
        let array = [1, 2, 3];
        let array2 = [1,2, [1.1,1.2,1.3] ,3];
        let array3 = [1,2, [1.1,[2.1, 2.2],1.2,1.3] ,3];

        const $container = document.querySelector('.container'); 

        $container.append(generateList(array));        
        $container.append(generateList(array2)); 
        $container.append(generateList(array3)); 

        function generateList(arr) {
            let $list = document.createElement('ul');
            let listItems = '';
            arr.forEach(function(el) {
                if(Array.isArray(el)){
                    el = generateList(el).outerHTML;
                }
                listItems += `<li>${el}</li>`                
            });
            $list.innerHTML = listItems;
            return $list;
        }

        
        $container.after(fillTable(createTable(10, 10)));

        $container.after(fillTable(createTable2(10, 10)));

        for(let el of document.querySelectorAll('table')) {
            el.style = 'border-collapse: collapse; margin: 10px;'; 
        }
        for(let el of document.querySelectorAll('td')) {
            el.style = 'border : 1px solid blue; padding: 3px; text-align: center;';
        } 
        
        function createTable(row, col) {
            let $table = document.createElement('table');
            let tableInner = '';
            for(let i = 1; i <= row; i++){
                let row = '<tr>';
                for(let j = 1; j <= col; j++) {
                    row += `<td></td>`; /*`<td>${num++}</td>`;*/
                }
                row +='</tr>';
                tableInner += row;
            } 
            $table.innerHTML = tableInner; 
            return $table;
        }

        function createTable2(row, col) {
            let $table = document.createElement('table');
            for(let i = 1; i <= row; i++){
                let $row = document.createElement('tr');
                $table.append($row);
                for(let j = 1; j <= col; j++) {
                   $row.append(document.createElement('td'));
                }
            }
            return $table;   
        }

        function fillTable($table) {
           let num = 1;
           for(let tr of $table.rows) {
               for(let td of tr.cells) {
                   td.innerHTML = num++;
               }
           }
           return $table;
        }





        

        
    </script>
</body>

</html>