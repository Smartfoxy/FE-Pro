<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>closure</title>
    <style>
        button {
            cursor: pointer;
        }
        .container {
            margin: 10px;
        }
        
    </style>

</head>

<body>
    <div class="container">
        <button class = "fb"></button> 
        <button class = "reset_fb">Reset likes</button>
    </div>
    <div class="container">
        <button class = 'vk'></button>
        <button class = "reset_vk">Reset likes</button>
    </div>    
    

     

    <script>
        "use strict"
        
         function someFn() {
             let sum = 0;
             return function(num) {
                 return sum += num;
             }
         }

         let sum = someFn();

         console.log(sum(3));
         console.log(sum(5));
         console.log(sum(20));


        const startFb = 0;
        const startVk = 0;
        const stepFb = 3;
        const stepVk = 10;
        const textFb = '  Like FB';
        const textVk = '  Like VK';

        const fbButton = document.querySelector('.fb');
        const vkButton = document.querySelector('.vk');
        const fbReset = document.querySelector('.reset_fb');
        const vkReset = document.querySelector('.reset_vk');
       
        fbButton.innerHTML = startFb + textFb;
        vkButton.innerHTML = startVk + textVk;

        let fbCounter = createCounter(startFb, stepFb);
        let vkCounter = createCounter(startVk, stepVk);

        function createCounter(startCount, step) {
            let currentCount = startCount;

            return function(isReset){
                currentCount = (currentCount + step) * isReset;
                return currentCount;
            }
        }

        fbButton.addEventListener('click', function(){
            fbButton.innerHTML = fbCounter(1) + textFb;
        });

        vkButton.addEventListener('click', function(){
            vkButton.innerHTML = vkCounter(1) + textVk;
        });

        fbReset.addEventListener('click', function(){
            fbButton.innerHTML = fbCounter(0) + textFb;
        });

        vkReset.addEventListener('click', function(){
            vkButton.innerHTML = vkCounter(0) + textVk;
        });

         /*Сначала обнуляла вызывая еще раз createCounter(0, stepFb) код ниже, но потом подумала что наверное это неправильно 
         создавать еще окружения? или норм т.к. память очищается после того как перестает ссылаться на предыдущую функцию? вообщем это вопрос...*/

       /* fbReset.addEventListener('click', function(){
            fbCounter = createCounter(0, stepFb);
            fbButton.innerHTML = 0 + textFb;
        });

        vkReset.addEventListener('click', function(){
            vkCounter = createCounter(0, stepVk);
            vkButton.innerHTML = 0 + textVk;
        });*/

                                    /* Палиндром*/

        let count = 0;
        function findPalidrom(num) {
            let reverseNum = reverse(num);
            console.log(count++ + ' iter: ' + num + ' + ' + reverseNum);
                      
            if(num === reverseNum) {               
                return reverseNum;
            }
            
            return findPalidrom(num + reverseNum);    
        }
        
        function reverse(num) {
            let result = 0;
            while(num > 0){
                result *= 10;
                result += num % 10;
                num = Math.floor(num / 10);
            }
            return result;
        }

        function reverse2(num) {
            return Number(String(num).split('').reverse().join(''));
        }  

        let num = 89;
        console.log(findPalidrom(num));    
                  


        

    </script>
</body>

</html>