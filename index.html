<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>homework_8</title>
</head>

<body>

    <script>
        "use strict"

        let keys = [

        ['value', 42, true, false, false],

        ['value2', true, false, false, false],

        ['value3', 'Hello', true, true, true]

        ];
       
        function createObject(keys) {
            let obj = {};
            keys.forEach(function(el){
                Object.defineProperty(obj, el[0], {
                    value: el[1],
                    enumerable: el[2],
                    writable: el[3],
                    configurable: el[4]
                });
            });

            return obj;
        }
        console.log(createObject(keys)); /*почему порядок свойств меняется?*/
        let descriptor = Object.getOwnPropertyDescriptor(createObject(keys), 'value');
        console.log( JSON.stringify(descriptor, null, 2 ) );



        let obj1 = {
            value: 42,
            value2: true
        }

        let obj2 = {
            value: 42,
            value2: true,
        }
             /*если не заморачиваться*/
        function compareObj(obj1, obj2) {
            return JSON.stringify(obj1) === JSON.stringify(obj2);
        }

              /*если  заморочиться*/
        function compareObj2(obj1, obj2) {
            if(Object.keys(obj1).length !== Object.keys(obj2).length) {
                return false;
            } else {
                for (let prop in obj1) {
                    if(!obj2.hasOwnProperty(prop) || obj1[prop]!==obj2[prop]) {
                        return false;
                    }
                } 
                return true;   
            }           
        }

        function compareObj3(obj1, obj2) {
            let keys1 = Object.keys(obj1);
            let keys2 = Object.keys(obj2);
            return (keys1.length === keys2.length) && keys1.every(function(el ){
                return obj1[el] === obj2[el];
            });            
        }

        console.log(compareObj(obj1, obj2));
        console.log(compareObj2(obj1, obj2));
        console.log(compareObj3(obj1, obj2));

        
        /*почему 2 строки ниже дают один результат? getOwnPropertyNames вроде должен включать и неперечисляемые свойства?*/
        console.log(Object.keys(obj1).length);
        console.log(Object.getOwnPropertyNames(obj1).length);

       



    </script>
</body>

</html>