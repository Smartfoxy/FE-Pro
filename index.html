<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>closure</title>
    <style>
        button {
            cursor: pointer;
        }
        .container {
            margin: 10px;
        }
        
    </style>

</head>

<body>
    <div class="container">
        <button class = "fb"></button> 
        <button class = "reset_fb">Reset likes</button>
    </div>
    <div class="container">
        <button class = 'vk'></button>
        <button class = "reset_vk">Reset likes</button>
    </div>    
    

     

    <script>
        "use strict"
        
         function someFn() {
             let sum = 0;
             return function(num) {
                 return sum += num;
             }
         }

         let sum = someFn();

         console.log(sum(3));
         console.log(sum(5));
         console.log(sum(20));


        const startFb = 0;
        const startVk = 5;
        const stepFb = 1;
        const stepVk = 10;
        const textFb = '  Like FB';
        const textVk = '  Like VK';

        const fbButton = document.querySelector('.fb');
        const vkButton = document.querySelector('.vk');
        const fbReset = document.querySelector('.reset_fb');
        const vkReset = document.querySelector('.reset_vk');
       
        fbButton.innerHTML = startFb + textFb;
        vkButton.innerHTML = startVk + textVk;

        let fbCounter = createCounter(startFb, stepFb);
        let vkCounter = createCounter(startVk, stepVk);

        function createCounter(startCount, step) {
            let currentCount = startCount;

            return {
                next() {
                    return currentCount += step;
                },
                reset(resetValue) {
                    currentCount = (resetValue || resetValue === 0) ? resetValue : startCount;
                    return currentCount;
                }
            }
        }

        fbButton.addEventListener('click', function(){
            fbButton.innerHTML = fbCounter.next() + textFb;
        });

        vkButton.addEventListener('click', function(){
            vkButton.innerHTML = vkCounter.next() + textVk;
        });

        fbReset.addEventListener('click', function(){
            fbButton.innerHTML = fbCounter.reset(17) + textFb;
        });

        vkReset.addEventListener('click', function(){
            vkButton.innerHTML = vkCounter.reset() + textVk;
        });

     

                                    /* Палиндром*/

        let num = 89;
        console.log(findPalidrom(num)); 

        function findPalidrom(num, count = 0) {
            let reverseNum = reverse(num);
            console.log(count++ + ' iter: ' + num + ' + ' + reverseNum);
                      
            if(num === reverseNum) {               
                return reverseNum;
            }
            
            return findPalidrom(num + reverseNum, count);    
        }
        
    
        function reverse(num, result = 0) {
            result *= 10;
            result += num % 10;

            if(Math.floor(num / 10) === 0) {
                return result;
            }
            
            return  reverse(Math.floor(num / 10), result);
        }


        /*function reverse2(num) {
            return Number(String(num).split('').reverse().join(''));
        } */ 

        
 
    </script>
</body>

</html>